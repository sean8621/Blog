<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue2 与 Vue3 的区别 | Sean86 Blog</title>
    <meta name="description" content="Personal Study Blog">
    <meta name="generator" content="VitePress v1.0.0-rc.45">
    <link rel="preload stylesheet" href="/assets/style.e_bhZuk5.css" as="style">
    
    <script type="module" src="/assets/app.Dlglmeel.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BBAEwW2z.js">
    <link rel="modulepreload" href="/assets/chunks/framework.PYJlgb14.js">
    <link rel="modulepreload" href="/assets/articles_vue-article_vue2-vue3diff.md.BgcqP7uS.lean.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css">
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-3864b4e1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-464933ee></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-464933ee> Skip to content </a><!--]--><!----><header class="VPNav" data-v-3864b4e1 data-v-0f65e92c><div class="VPNavBar" data-v-0f65e92c data-v-402e8032><div class="wrapper" data-v-402e8032><div class="container" data-v-402e8032><div class="title" data-v-402e8032><div class="VPNavBarTitle has-sidebar" data-v-402e8032 data-v-e4586b03><a class="title" href="/" data-v-e4586b03><!--[--><!--]--><!----><span data-v-e4586b03>Sean86 Blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-402e8032><div class="content-body" data-v-402e8032><!--[--><!--]--><div class="VPNavBarSearch search" data-v-402e8032><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-402e8032 data-v-d29ebba3><span id="main-nav-aria-label" class="visually-hidden" data-v-d29ebba3>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-d29ebba3 data-v-31d94c67><!--[--><span data-v-31d94c67>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/articles/vue-article/scroll-list-components.html" tabindex="0" data-v-d29ebba3 data-v-31d94c67><!--[--><span data-v-31d94c67>笔记</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-402e8032 data-v-e07a273e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e07a273e data-v-1ebe2f03 data-v-8230b0a3><span class="check" data-v-8230b0a3><span class="icon" data-v-8230b0a3><!--[--><span class="vpi-sun sun" data-v-1ebe2f03></span><span class="vpi-moon moon" data-v-1ebe2f03></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-402e8032 data-v-595b7cad data-v-94739f0e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/sean8621" aria-label="github" target="_blank" rel="noopener" data-v-94739f0e data-v-b60840dc><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-402e8032 data-v-63c6cfe3 data-v-67568b4e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-67568b4e><span class="vpi-more-horizontal icon" data-v-67568b4e></span></button><div class="menu" data-v-67568b4e><div class="VPMenu" data-v-67568b4e data-v-802147f8><!----><!--[--><!--[--><!----><div class="group" data-v-63c6cfe3><div class="item appearance" data-v-63c6cfe3><p class="label" data-v-63c6cfe3>Appearance</p><div class="appearance-action" data-v-63c6cfe3><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-63c6cfe3 data-v-1ebe2f03 data-v-8230b0a3><span class="check" data-v-8230b0a3><span class="icon" data-v-8230b0a3><!--[--><span class="vpi-sun sun" data-v-1ebe2f03></span><span class="vpi-moon moon" data-v-1ebe2f03></span><!--]--></span></span></button></div></div></div><div class="group" data-v-63c6cfe3><div class="item social-links" data-v-63c6cfe3><div class="VPSocialLinks social-links-list" data-v-63c6cfe3 data-v-94739f0e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/sean8621" aria-label="github" target="_blank" rel="noopener" data-v-94739f0e data-v-b60840dc><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-402e8032 data-v-c52f08ec><span class="container" data-v-c52f08ec><span class="top" data-v-c52f08ec></span><span class="middle" data-v-c52f08ec></span><span class="bottom" data-v-c52f08ec></span></span></button></div></div></div></div><div class="divider" data-v-402e8032><div class="divider-line" data-v-402e8032></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-3864b4e1 data-v-e06ec8fc><div class="container" data-v-e06ec8fc><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e06ec8fc><span class="vpi-align-left menu-icon" data-v-e06ec8fc></span><span class="menu-text" data-v-e06ec8fc>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e06ec8fc data-v-8be32239><button data-v-8be32239>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-3864b4e1 data-v-15e346c6><div class="curtain" data-v-15e346c6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-15e346c6><span class="visually-hidden" id="sidebar-aria-label" data-v-15e346c6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0 has-active" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>Vue</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/vue-article/scroll-list-components.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>自动滚动列表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/vue-article/echarts.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>echarts组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/vue-article/element-tabpan-echarts.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Element-ui Tab 组件切换时 Echarts 解决宽度 100% 问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/vue-article/vIf-vFor.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>v-if与v-for</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/vue-article/vue2-vue3diff.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Vue2/3区别</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/vue-article/vue3-ts-txmap.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Vue3-ts 对接腾讯地图问题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>React</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/react-article/react-tips.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>reactTips</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>CSS</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/css-article/reverse-border-radius.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>反向圆角</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/css-article/bubble-dialog.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>气泡对话框</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/css-article/content-visibility.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>content-visibility 优化渲染性能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/css-article/css-tips.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>CSS Tips</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>JS</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/js-article/html2canvas-upload.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>html2canvas线上图片资源上传</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/js-article/echarts-use-tips.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Echarts使用小技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/js-article/array-traversal.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>数组遍历</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/js-article/ts-tips.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>TS使用技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/js-article/js-handwriting.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>JS手写题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>Uni-App</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/uniapp-article/dev-Pit.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>uniapp踩坑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/uniapp-article/breath-animation.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>进度条动画</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/uniapp-article/gloable-share.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>全局开启分享功能</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>Nginx</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/nginx-article/clear-html-cache.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>清除页面缓存</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>其他</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/other-article/esLint.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>搭建项目配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/other-article/funtion-overload.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>函数重载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/other-article/git.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Git 使用技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/other-article/iconfont.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Icon Font使用</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-15e346c6><section class="VPSidebarItem level-0" data-v-15e346c6 data-v-63631b1e><div class="item" role="button" tabindex="0" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><h2 class="text" data-v-63631b1e>面试真题</h2><!----></div><div class="items" data-v-63631b1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/js.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>JavaScript面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/css.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>CSS面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/es6.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>ES6面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/vue2.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Vue2面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/vue3.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Vue3面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/react.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>React面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/node.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Node.js面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/miniprogram.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>小程序面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/http.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>HTTP面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/ts.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>TypeScript面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/webpack.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Webpack面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/git.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Git面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/linux.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>Linux面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/algorithm.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>算法面试题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-63631b1e data-v-63631b1e><div class="item" data-v-63631b1e><div class="indicator" data-v-63631b1e></div><a class="VPLink link link" href="/articles/interview-article/design.html" data-v-63631b1e><!--[--><p class="text" data-v-63631b1e>设计模式面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-3864b4e1 data-v-102b5d55><div class="VPDoc has-sidebar has-aside" data-v-102b5d55 data-v-282773f3><!--[--><!--]--><div class="container" data-v-282773f3><div class="aside" data-v-282773f3><div class="aside-curtain" data-v-282773f3></div><div class="aside-container" data-v-282773f3><div class="aside-content" data-v-282773f3><div class="VPDocAside" data-v-282773f3 data-v-bdc111ae><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-bdc111ae data-v-148c69a0><div class="content" data-v-148c69a0><div class="outline-marker" data-v-148c69a0></div><div class="outline-title" role="heading" aria-level="2" data-v-148c69a0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-148c69a0><span class="visually-hidden" id="doc-outline-aria-label" data-v-148c69a0> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-148c69a0 data-v-2d3bf76b><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-bdc111ae></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-282773f3><div class="content-container" data-v-282773f3><!--[--><!--]--><main class="main" data-v-282773f3><div style="position:relative;" class="vp-doc _articles_vue-article_vue2-vue3diff" data-v-282773f3><div><h1 id="vue2-与-vue3-的区别" tabindex="-1">Vue2 与 Vue3 的区别 <a class="header-anchor" href="#vue2-与-vue3-的区别" aria-label="Permalink to &quot;Vue2 与 Vue3 的区别&quot;">​</a></h1><h2 id="一、vue3-变化" tabindex="-1">一、Vue3 变化 <a class="header-anchor" href="#一、vue3-变化" aria-label="Permalink to &quot;一、Vue3 变化&quot;">​</a></h2><p><img src="/assets/vue2-vue3-diff-1.B3j5lp-B.png" alt="vue3变化" data-fancybox="gallery" loading="lazy"><code>vue3</code>新增特性：</p><ul><li>速度更快</li><li>体积更小</li><li>更易维护</li><li>更接近原生</li><li>更易使用</li></ul><h3 id="速度更快" tabindex="-1">速度更快 <a class="header-anchor" href="#速度更快" aria-label="Permalink to &quot;速度更快&quot;">​</a></h3><p><code>vue3</code>相比<code>vue2</code></p><ul><li>重写虚拟 dom</li><li>编译模板的优化</li><li>更高效的组件初始化</li><li><code>update</code>性能提高 1.3~2 倍</li><li><code>SSR</code>提高 2~3 倍</li></ul><h3 id="体积更小" tabindex="-1">体积更小 <a class="header-anchor" href="#体积更小" aria-label="Permalink to &quot;体积更小&quot;">​</a></h3><p>通过<code>webpack</code>的<code>tree-shaking</code>功能，可以将无用的模块删除，减少打包体积。 <code>tree-shaking</code>两大好处：</p><ul><li>开发人员来说，能对<code>vue</code>实现更多其他的功能，不必担薪体积过于庞大</li><li>使用者来说，打包出来的体积更小，加载速度更快</li></ul><h3 id="更易维护" tabindex="-1">更易维护 <a class="header-anchor" href="#更易维护" aria-label="Permalink to &quot;更易维护&quot;">​</a></h3><p><strong>Composition Api</strong></p><ul><li>可与现在 Option Api 混用</li><li>灵活的逻辑组合与复用</li><li>Vue3 模块可以与其他框架搭配使用</li></ul><h3 id="更好的-typescript-支持" tabindex="-1">更好的 TypeScript 支持 <a class="header-anchor" href="#更好的-typescript-支持" aria-label="Permalink to &quot;更好的 TypeScript 支持&quot;">​</a></h3><p><code>vue3</code>基于<code>TypeScript</code>编写，可以享受自动的类型定义提示，并且提供了更好的类型支持。</p><h3 id="编译器重写" tabindex="-1">编译器重写 <a class="header-anchor" href="#编译器重写" aria-label="Permalink to &quot;编译器重写&quot;">​</a></h3><p><img src="/assets/vue2-vue3-diff-2.CPkGxdwQ.png" alt="编译器重写" data-fancybox="gallery" loading="lazy"></p><h3 id="更接近原生" tabindex="-1">更接近原生 <a class="header-anchor" href="#更接近原生" aria-label="Permalink to &quot;更接近原生&quot;">​</a></h3><p>可以自定义渲染 API <img src="/assets/vue2-vue3-diff-3.SCwnE1Ue.png" alt="自定义渲染API" data-fancybox="gallery" loading="lazy"></p><h3 id="更易使用" tabindex="-1">更易使用 <a class="header-anchor" href="#更易使用" aria-label="Permalink to &quot;更易使用&quot;">​</a></h3><p>响应式<code>Api</code>暴露出来</p><p><img src="/assets/vue2-vue3-diff-4.Cu6t0RF3.png" alt="更易使用" data-fancybox="gallery" loading="lazy"></p><p>轻松识别组件重新渲染原因</p><p><img src="/assets/vue2-vue3-diff-5.BpNYOR7z.png" alt="轻松识别组件重新渲染原因" data-fancybox="gallery" loading="lazy"></p><h2 id="二、vue3-新增特性" tabindex="-1">二、Vue3 新增特性 <a class="header-anchor" href="#二、vue3-新增特性" aria-label="Permalink to &quot;二、Vue3 新增特性&quot;">​</a></h2><p>Vue3 新功能：</p><ul><li>framents</li><li>Teleport</li><li>composition API</li><li>createRenderer</li></ul><h3 id="fragments" tabindex="-1">Fragments <a class="header-anchor" href="#fragments" aria-label="Permalink to &quot;Fragments&quot;">​</a></h3><p><code>vue3</code>新增了<code>Fragments</code>，组件支持多个根节点，可以简化模板结构，减少<code>DOM</code>层级。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- Layout.vue --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$attrs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">footer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">footer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="teleport" tabindex="-1">Teleport <a class="header-anchor" href="#teleport" aria-label="Permalink to &quot;Teleport&quot;">​</a></h3><p><code>vue3</code>新增了<code>Teleport</code>，将组件内容传送到指定位置,就是能够将模板移动到<code>DOM</code>中的<code>Vue app</code>之外的其他位置的技术，例如哆啦 A 梦的&quot;任意门&quot;。</p><p><code>vue2</code>中，类似 modal、toast 这样的元素，如果嵌套在某个组件内，处理嵌套组件的定位，<code>z-index</code>和样式就会很困难。</p><p>通过<code>Teleport</code>，可以解决这个问题。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">showToast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;btn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;打开 toast&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- to 属性就是目标位置 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">teleport</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#teleport-target&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;div v-if=&quot;visible&quot; class=&quot;toast-wrap&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;div class=&quot;toast-msg&quot;&gt;我是一个 Toast 文案&lt;/div&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/div&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">teleport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="composition-api" tabindex="-1">composition API <a class="header-anchor" href="#composition-api" aria-label="Permalink to &quot;composition API&quot;">​</a></h3><p>composition Api，也就是组合式<code>api</code>，通过这种形式，我们能够更加容易维护我们的代码，将相同功能的变量进行一个集中式的管理 <img src="/assets/vue2-vue3-diff-6.Cy9hk1Ff.png" alt="composition API" data-fancybox="gallery" loading="lazy"></p><h3 id="createrenderer" tabindex="-1">createRenderer <a class="header-anchor" href="#createrenderer" aria-label="Permalink to &quot;createRenderer&quot;">​</a></h3><p><code>vue3</code>新增了<code>createRenderer</code>，可以自定义渲染器,能够将<code>vue</code>的开发模型扩展到其他平台</p><p><img src="/assets/vue2-vue3-diff-7.C_uTh80I.png" alt="createRenderer" data-fancybox="gallery" loading="lazy"></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createRenderer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue/runtime-core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  patchProp,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  insert,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  remove,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createElement,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { render, createApp };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@vue/runtime-core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="三、非兼容变更" tabindex="-1">三、非兼容变更 <a class="header-anchor" href="#三、非兼容变更" aria-label="Permalink to &quot;三、非兼容变更&quot;">​</a></h2><h3 id="global-api" tabindex="-1">Global API <a class="header-anchor" href="#global-api" aria-label="Permalink to &quot;Global API&quot;">​</a></h3><ul><li>全局<code>Vue API</code>已更改为使用应用程序实例</li><li>全局和内部<code>API</code>已经被重构为可<code>tree-shakable</code></li></ul><h3 id="模版指令" tabindex="-1">模版指令 <a class="header-anchor" href="#模版指令" aria-label="Permalink to &quot;模版指令&quot;">​</a></h3><ul><li><p>在组件上<code>v-model</code>用法更改</p><ul><li><p>非兼容：</p><ul><li>prop：<code>value</code> -&gt; <code>modelValue</code></li><li>event：<code>input</code> -&gt; <code>update:modelValue</code></li><li><code>v-bind</code> 的 <code>.sync</code> 修饰符和组件的 model 选项已移除，可用 <code>v-model</code> 作为代替</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ChildComponent.vue</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  props: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modelValue: String, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 以前是`value：String`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  emits: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;update:modelValue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  methods: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    changePageTitle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 以前是 `this.$emit(&#39;input&#39;, title)`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;update:modelValue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, title);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li><li><p>新增：</p><ul><li>现在可以在同一个组件上使用多个 v-model 进行双向绑定</li></ul><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ChildComponent</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageTitle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageContent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 是以下的简写： --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ChildComponent</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageTitle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageTitle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $event</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageContent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageContent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $event</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><ul><li>现在可以自定义 <code>v-model</code> 修饰符</li></ul><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;my-component v-model.capitalize=&quot;myText&quot;&gt;&lt;/my-component&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ myText }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>app.component(&#39;my-component&#39;, {</span></span>
<span class="line"><span>    props: {</span></span>
<span class="line"><span>    modelValue: String,</span></span>
<span class="line"><span>    modelModifiers: {</span></span>
<span class="line"><span>    default: () =&gt; ({})</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>},</span></span>
<span class="line"><span>emits: [&#39;update:modelValue&#39;],</span></span>
<span class="line"><span>template: `</span></span>
<span class="line"><span>    &lt;input type=&quot;text&quot;</span></span>
<span class="line"><span>    :value=&quot;modelValue&quot;</span></span>
<span class="line"><span>    @input=&quot;$emit(&#39;update:modelValue&#39;, $event.target.value)&quot;&gt;</span></span>
<span class="line"><span>`,</span></span>
<span class="line"><span>created() {</span></span>
<span class="line"><span>    console.log(this.modelModifiers) // { capitalize: true }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>})</span></span></code></pre></div></li></ul></li><li><p><code>&lt;template v-for&gt;</code>和非<code>v-for</code>节点上<code>key</code>用法已更改</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 旧的用法（Vue 2）--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> items</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">item.id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ item.text }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 新的用法（Vue 3）--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> items</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">item.id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ item.text }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li><li><p>在同一元素上使用的<code>v-if</code>和<code>v-for</code>优先级已更改</p><p><a href="./vIf-vFor.html">v-if 与 v-for 的区别</a></p></li><li><p><code>v-bind=&quot;object&quot;</code>现在排序敏感</p><ul><li><code>Vue 2.x</code> 如果一个元素同时定义了 <code>v-bind=&quot;object&quot;</code> 和一个相同的单独的 <code>property</code>，那么这个单独的 <code>property</code> 总是会覆盖 <code>object</code> 中的绑定。</li><li><code>Vue 3.x</code> 声明绑定的顺序决定了它们如何合并。</li></ul><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 2.x中 id最终为red 3.x中 id为blue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;red&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;blue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li><li><p><code>v-for</code>中的<code>ref</code>不再注册<code>ref</code>数组</p><ul><li><code>Vue 2</code>中，在<code>v-for</code>里使用<code>ref</code>属性时，从<code>$refs</code>中获取的相应属性会是一个<code>ref</code>数组。</li><li><code>Vue 3</code>中则将<code>ref</code>绑定到一个更灵活的函数上(ele) =&gt; { …//保存 ele 的操作 }：</li></ul><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item in list&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;setItemRef&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref, onBeforeUpdate, onUpdated } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> itemRefs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setItemRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      itemRefs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(el);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onBeforeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      itemRefs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onUpdated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(itemRefs);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      itemRefs,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      setItemRef,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li></ul><h3 id="组件" tabindex="-1">组件 <a class="header-anchor" href="#组件" aria-label="Permalink to &quot;组件&quot;">​</a></h3><ul><li>只能使用普通函数创建功能组件</li></ul><blockquote><p>在 3.x 中，2.x 带来的函数式组件的性能提升可以忽略不计，因此我们建议只使用有状态的组件函数式组件只能由接收 props 和 context (即：slots、attrs、emit) 的普通函数创建。<br> 非兼容：functional attribute 已从单文件组件 (SFC) 的 中移除。<br> 非兼容：{ functional: true } 选项已从通过函数创建的组件中移除。</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vue 2 函数式组件示例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  functional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  props: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`h${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">props</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">level</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data, children);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><blockquote><p>现在，在 Vue 3 中，所有的函数式组件都是用普通函数创建的。换句话说，不需要定义 { functional: true } 组件选项。 它们将接收两个参数：props 和 context。context 参数是一个对象，包含组件的 attrs、slots 和 emit property。<br> 此外，h 现在是全局导入的，而不是在 render 函数中隐式提供。</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { h } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DynamicHeading</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`h${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">props</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">level</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, context.attrs, context.slots);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DynamicHeading.props </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DynamicHeading;</span></span></code></pre></div><ul><li><p>异步组件现在需要 <code>defineAsyncComponent</code> 方法来创建</p><blockquote><p>新的 defineAsyncComponent 助手方法，用于显式地定义异步组件<br> component 选项被重命名为 loader<br> Loader 函数本身不再接收 resolve 和 reject 参数，且必须返回一个 Promise</p></blockquote><p><strong>2.x</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> asyncModal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./Modal.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//或者带有选项</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> asyncModal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./Modal.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  error: ErrorComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loading: LoadingComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>3.x</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineAsyncComponent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ErrorComponent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./components/ErrorComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LoadingComponent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./components/LoadingComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不带选项的异步组件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> asyncModal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./Modal.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 带选项的异步组件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> asyncModalWithOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./Modal.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  errorComponent: ErrorComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loadingComponent: LoadingComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// () =&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// })</span></span></code></pre></div></li></ul><h3 id="渲染函数" tabindex="-1">渲染函数 <a class="header-anchor" href="#渲染函数" aria-label="Permalink to &quot;渲染函数&quot;">​</a></h3><ul><li><p>渲染函数 API 改变</p><ul><li>渲染函数参数</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 在 2.x 中，render 函数会自动接收 h 函数 (它是 createElement 的惯用别名) 作为参数：</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 在 3.x 中，h 函数现在是全局导入的，而不是作为参数自动传递。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { h } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div><ul><li>渲染函数签名更改</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在 2.x 中，render 函数自动接收参数，如 h 函数。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 在 3.x 中，由于 render 函数不再接收任何参数，它将主要在 setup() 函数内部使用。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 这还有一个好处：可以访问在作用域中声明的响应式状态和函数，以及传递给 setup() 的参数。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { h, reactive } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">slots</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">attrs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reactive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              state.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 返回渲染函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          onClick: increment</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state.count</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>$scopedSlots property 已删除，所有插槽都通过 $slots 作为函数暴露</p><ul><li>作用域插槽</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2.x</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$scopedSlots.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.data);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3.x</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$slots.default </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$slots.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.data) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ul><li>非作用域插槽</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2.x</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$scopedSlots.default;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3.x</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.$slots.default;</span></span></code></pre></div></li><li><p>自定义指令 API 已更改为与组件生命周期一致</p><ul><li>在 Vue 2 中，自定义指令通过使用下列钩子来创建，以对齐元素的生命周期，它们都是可选的： <ul><li><code>bind</code> → 指令绑定到元素后调用。只调用一次。</li><li><code>inserted</code> → 元素插入父 DOM 后调用。</li><li><code>update</code> → 当元素更新，但子元素尚未更新时，将调用此钩子。</li><li><code>componentUpdated</code> → 一旦组件和子级被更新，就会调用这个钩子。</li><li><code>unbind</code> → 一旦指令被移除，就会调用这个钩子。也只调用一次。</li></ul></li><li>在 Vue 3 中，我们为自定义指令创建了一个更具凝聚力的 API。相较于 Vue2，自定义指令 API 与组件生命周期一致，便于记忆。且新增两个钩子，功能更加强大。 <ul><li><code>created</code> → 新增！在元素的 <code>attribute</code> 或事件监听器被应用之前调用。</li><li><code>bind</code> → <code>beforeMount</code></li><li><code>inserted</code> → <code>mounted</code></li><li><code>beforeUpdate</code>：新增！在元素本身被更新之前调用，与组件的生命周期钩子十分相似。</li><li><code>componentUpdated</code> → updated</li><li><code>beforeUnmount</code>：新增！与组件的生命周期钩子类似，它将在元素被卸载之前调用。</li><li><code>unbind</code> -&gt; <code>unmounted</code></li></ul></li></ul></li><li><p>一些转换 class 被重命名了：</p><ul><li>v-enter -&gt; v-enter-from</li><li>v-leave -&gt; v-leave-from</li></ul></li><li><p>组件 watch 选项和实例方法 $watch 不再支持点分隔字符串路径，请改用计算函数作为参数</p></li><li><p>在 Vue 2.x 中，应用根容器的 outerHTML 将替换为根组件模板 (如果根组件没有模板/渲染选项，则最终编译为模板)。VUE3.x 现在使用应用程序容器的 innerHTML。</p></li></ul><h3 id="其他小改变" tabindex="-1">其他小改变 <a class="header-anchor" href="#其他小改变" aria-label="Permalink to &quot;其他小改变&quot;">​</a></h3><ul><li><code>destroyed</code> 生命周期选项被重命名为 <code>unmounted</code></li><li><code>beforeDestroy</code> 生命周期选项被重命名为 <code>beforeUnmount</code></li><li><code>prop default</code> 工厂函数不再有权访问 <code>this</code> 是上下文</li><li>自定义指令 API 已更改为与组件生命周期一致</li><li><code>data</code> 应始终声明为函数</li><li>来自 <code>mixin</code> 的 <code>data</code> 选项现在可简单地合并</li><li><code>attribute</code> 强制策略已更改</li><li>一些过渡 class 被重命名</li><li>组建 <code>watch</code> 选项和实例方法 <code>$watch</code> 不再支持以点分隔的字符串路径。请改用计算属性函数作为参数。</li><li><code>&lt;template&gt;</code> 没有特殊指令的标记 (<code>v-if/else-if/else</code>、<code>v-for</code> 或 <code>v-slot</code>) 现在被视为普通元素，并将生成原生的 <code>&lt;template&gt;</code> 元素，而不是渲染其内部内容。</li><li>在 <code>Vue 2.x</code> 中，应用根容器的 <code>outerHTML</code> 将替换为根组件模板 (如果根组件没有模板/渲染选项，则最终编译为模板)。<code>Vue 3.x</code> 现在使用应用容器的 <code>innerHTML</code>，这意味着容器本身不再被视为模板的一部分。</li></ul><h3 id="移除-api" tabindex="-1">移除 API <a class="header-anchor" href="#移除-api" aria-label="Permalink to &quot;移除 API&quot;">​</a></h3><ul><li><code>keyCode</code> 支持作为 <code>v-on</code> 的修饰符</li><li><code>$on</code>，<code>$off</code>和<code>$once</code> 实例方法</li><li>过滤<code>filter</code></li><li>内联模板 <code>attribute</code></li><li><code>$destroy</code> 实例方法。用户不应再手动管理单个<code>Vue</code>组件的生命周期。</li></ul></div></div></main><footer class="VPDocFooter" data-v-282773f3 data-v-62c45b64><!--[--><!--]--><!----><nav class="prev-next" data-v-62c45b64><div class="pager" data-v-62c45b64><a class="VPLink link pager-link prev" href="/articles/vue-article/vIf-vFor.html" data-v-62c45b64><!--[--><span class="desc" data-v-62c45b64>Previous page</span><span class="title" data-v-62c45b64>v-if与v-for</span><!--]--></a></div><div class="pager" data-v-62c45b64><a class="VPLink link pager-link next" href="/articles/vue-article/vue3-ts-txmap.html" data-v-62c45b64><!--[--><span class="desc" data-v-62c45b64>Next page</span><span class="title" data-v-62c45b64>Vue3-ts 对接腾讯地图问题</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"DEjW5aD5\",\"articles_css-article_bubble-dialog.md\":\"BUlmRqmb\",\"articles_css-article_content-visibility.md\":\"DykWKScF\",\"articles_css-article_css-tips.md\":\"DYVQuzLQ\",\"articles_css-article_reverse-border-radius.md\":\"BUHTXva0\",\"articles_interview-article_algorithm.md\":\"D-xwXYkf\",\"articles_interview-article_css.md\":\"Cy_NNywc\",\"articles_interview-article_design.md\":\"X-0Xtu5U\",\"articles_interview-article_es6.md\":\"BrBnmRN4\",\"articles_interview-article_git.md\":\"CF9eMx0z\",\"articles_interview-article_http.md\":\"2ygAMHh5\",\"articles_interview-article_js.md\":\"R0YIPFWp\",\"articles_interview-article_linux.md\":\"D8hRK437\",\"articles_interview-article_miniprogram.md\":\"XY0L5N9N\",\"articles_interview-article_node.md\":\"CuzdVUI4\",\"articles_interview-article_react.md\":\"tL0QZ-vS\",\"articles_interview-article_ts.md\":\"DmNf99wi\",\"articles_interview-article_vue2.md\":\"zBO_5Zfk\",\"articles_interview-article_vue3.md\":\"n1Sbqw23\",\"articles_interview-article_webpack.md\":\"Co-o_8ri\",\"articles_js-article_array-traversal.md\":\"CkF2rQjK\",\"articles_js-article_echarts-use-tips.md\":\"De8KVHNt\",\"articles_js-article_html2canvas-upload.md\":\"CPx-Knpz\",\"articles_js-article_js-handwriting.md\":\"DBudLQjc\",\"articles_js-article_ts-tips.md\":\"BGcOYU8X\",\"articles_nginx-article_clear-html-cache.md\":\"BHFxTnuI\",\"articles_other-article_eslint.md\":\"BYeI8YOx\",\"articles_other-article_funtion-overload.md\":\"573t5Nzg\",\"articles_other-article_git.md\":\"DcJvER8x\",\"articles_other-article_iconfont.md\":\"BPadrvAx\",\"articles_react-article_react-tips.md\":\"C2WftLi_\",\"articles_uniapp-article_breath-animation.md\":\"Un54Mf-W\",\"articles_uniapp-article_dev-pit.md\":\"DfMLbmuT\",\"articles_uniapp-article_gloable-share.md\":\"DdK_rN4b\",\"articles_vue-article_echarts.md\":\"CpPcRmao\",\"articles_vue-article_element-tabpan-echarts.md\":\"B44yImR7\",\"articles_vue-article_scroll-list-components.md\":\"DOfaTKaL\",\"articles_vue-article_vif-vfor.md\":\"Krks6dTm\",\"articles_vue-article_vue2-vue3diff.md\":\"BgcqP7uS\",\"articles_vue-article_vue3-ts-txmap.md\":\"Byhv6KUc\",\"index.md\":\"5CON0iGT\",\"markdown-examples.md\":\"CWOb5QAr\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Sean86 Blog\",\"description\":\"Personal Study Blog\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"笔记\",\"link\":\"/articles/vue-article/scroll-list-components\"}],\"sidebar\":{\"/articles/\":[{\"text\":\"Vue\",\"items\":[{\"text\":\"自动滚动列表\",\"link\":\"/articles/vue-article/scroll-list-components\"},{\"text\":\"echarts组件\",\"link\":\"/articles/vue-article/echarts\"},{\"text\":\"Element-ui Tab 组件切换时 Echarts 解决宽度 100% 问题\",\"link\":\"/articles/vue-article/element-tabpan-echarts\"},{\"text\":\"v-if与v-for\",\"link\":\"/articles/vue-article/vIf-vFor\"},{\"text\":\"Vue2/3区别\",\"link\":\"/articles/vue-article/vue2-vue3diff\"},{\"text\":\"Vue3-ts 对接腾讯地图问题\",\"link\":\"/articles/vue-article/vue3-ts-txmap\"}]},{\"text\":\"React\",\"items\":[{\"text\":\"reactTips\",\"link\":\"/articles/react-article/react-tips\"}]},{\"text\":\"CSS\",\"items\":[{\"text\":\"反向圆角\",\"link\":\"/articles/css-article/reverse-border-radius\"},{\"text\":\"气泡对话框\",\"link\":\"/articles/css-article/bubble-dialog\"},{\"text\":\"content-visibility 优化渲染性能\",\"link\":\"/articles/css-article/content-visibility\"},{\"text\":\"CSS Tips\",\"link\":\"/articles/css-article/css-tips\"}]},{\"text\":\"JS\",\"items\":[{\"text\":\"html2canvas线上图片资源上传\",\"link\":\"/articles/js-article/html2canvas-upload\"},{\"text\":\"Echarts使用小技巧\",\"link\":\"/articles/js-article/echarts-use-tips\"},{\"text\":\"数组遍历\",\"link\":\"/articles/js-article/array-traversal\"},{\"text\":\"TS使用技巧\",\"link\":\"/articles/js-article/ts-tips\"},{\"text\":\"JS手写题\",\"link\":\"/articles/js-article/js-handwriting\"}]},{\"text\":\"Uni-App\",\"items\":[{\"text\":\"uniapp踩坑\",\"link\":\"/articles/uniapp-article/dev-Pit\"},{\"text\":\"进度条动画\",\"link\":\"/articles/uniapp-article/breath-animation\"},{\"text\":\"全局开启分享功能\",\"link\":\"/articles/uniapp-article/gloable-share\"}]},{\"text\":\"Nginx\",\"items\":[{\"text\":\"清除页面缓存\",\"link\":\"/articles/nginx-article/clear-html-cache\"}]},{\"text\":\"其他\",\"items\":[{\"text\":\"搭建项目配置\",\"link\":\"/articles/other-article/esLint\"},{\"text\":\"函数重载\",\"link\":\"/articles/other-article/funtion-overload\"},{\"text\":\"Git 使用技巧\",\"link\":\"/articles/other-article/git\"},{\"text\":\"Icon Font使用\",\"link\":\"/articles/other-article/iconfont\"}]},{\"text\":\"面试真题\",\"items\":[{\"text\":\"JavaScript面试题\",\"link\":\"/articles/interview-article/js\"},{\"text\":\"CSS面试题\",\"link\":\"/articles/interview-article/css\"},{\"text\":\"ES6面试题\",\"link\":\"/articles/interview-article/es6\"},{\"text\":\"Vue2面试题\",\"link\":\"/articles/interview-article/vue2\"},{\"text\":\"Vue3面试题\",\"link\":\"/articles/interview-article/vue3\"},{\"text\":\"React面试题\",\"link\":\"/articles/interview-article/react\"},{\"text\":\"Node.js面试题\",\"link\":\"/articles/interview-article/node\"},{\"text\":\"小程序面试题\",\"link\":\"/articles/interview-article/miniprogram\"},{\"text\":\"HTTP面试题\",\"link\":\"/articles/interview-article/http\"},{\"text\":\"TypeScript面试题\",\"link\":\"/articles/interview-article/ts\"},{\"text\":\"Webpack面试题\",\"link\":\"/articles/interview-article/webpack\"},{\"text\":\"Git面试题\",\"link\":\"/articles/interview-article/git\"},{\"text\":\"Linux面试题\",\"link\":\"/articles/interview-article/linux\"},{\"text\":\"算法面试题\",\"link\":\"/articles/interview-article/algorithm\"},{\"text\":\"设计模式面试题\",\"link\":\"/articles/interview-article/design\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/sean8621\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>